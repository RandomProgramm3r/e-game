<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.0/dist/tailwind.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.js"></script>
{% extends "base.html" %}
{% block content %}
<div class="container py-5 bg-white">
    <h1 class="mb-4 text-center h3">
        {{ task.question }}
    </h1>

    <form method="post" class="mb-5 bg-light p-4 rounded shadow-sm">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" style="margin-top:5px;"class="focus:outline-none text-white bg-purple-700 hover:bg-purple-800 focus:ring-4 focus:ring-purple-300 font-medium rounded-lg text-sm px-5 py-2.5 mb-2 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-900">
            Отправить ответ
        </button>
    </form>

    {% if user.is_authenticated %}
        <div class="p-4 rounded shadow-sm">
            <h2 class="mb-3 text-secondary">Ваш ответ:</h2>
            {% if user_answers.exists %}
                <ul class="list-group">
                {% with user_answers.first as answer %}
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span>Вы выбрали: <strong>{{ answer.selected_answer }}</strong></span>
                            <span class="{% if answer.is_correct %}text-success{% else %}text-danger{% endif %}">
                                {% if answer.is_correct %}Верно{% else %}Неверно{% endif %}
                            </span>
                        </li>
                {% endwith %}
                </ul>
            {% else %}
                <p class="text-muted">Вы еще не отвечали на этот вопрос.</p>
            {% endif %}
        </div>
    {% endif %}
</div>
{% endblock %}